{"openapi":"3.0.0","info":{"title":"API_Rcp_and_plan","version":"1.0.0"},"components":{"parameters":{"Accept-Language":{"name":"Accept-Language","in":"header","description":"Language preference","schema":{"type":"string","enum":["en","fr","es","ca"],"default":"en"}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"Exception":{"type":"object","properties":{"exceptionMessage":{"type":"string"},"params":{"type":"array","items":{"type":"object"}}}},"RecipeCreatePublicationEntry":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"}}},"RecipeCreateStepPublicationEntry":{"type":"object","properties":{"title":{"type":"string"},"body":{"type":"string"}}},"RecipeCreateStepEntry":{"type":"object","properties":{"number":{"type":"integer","minimum":0},"content":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/RecipeCreateStepPublicationEntry"}}}},"RecipeIngredientEntry":{"type":"object","properties":{"id":{"type":"string"},"unitId":{"type":"string"},"quantity":{"type":"number"},"isOptional":{"type":"boolean"}}},"RecipeKitchenwareEntry":{"type":"object","properties":{"id":{"type":"string"},"quantity":{"type":"integer"}}},"RecipeCreateEntry":{"type":"object","properties":{"difficulty":{"type":"integer"},"time":{"type":"integer"},"portions":{"type":"integer"},"visibility":{"type":"integer"},"publications":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/RecipeCreatePublicationEntry"},"example":{"en":{"title":"string","description":"string"},"es":{"title":"string","description":"string"}}},"categories":{"type":"array","items":{"type":"string"}},"ingredients":{"type":"array","items":{"$ref":"#/components/schemas/RecipeIngredientEntry"}},"kitchenware":{"type":"array","items":{"$ref":"#/components/schemas/RecipeKitchenwareEntry"}},"steps":{"type":"array","items":{"$ref":"#/components/schemas/RecipeCreateStepEntry"}}}},"RecipesListOutput":{"type":"array","items":{"$ref":"#/components/schemas/RecipeListOutput"}},"RecipeListOutput":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"thumbnailUrl":{"type":"string"}}},"RecipeOutput":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"thumbnailUrl":{"type":"string"},"headerImg":{"type":"string"},"uniqueId":{"type":"string"},"language":{"type":"string"},"difficulty":{"type":"integer"},"time":{"type":"integer"},"portions":{"type":"integer"},"visibility":{"type":"integer"},"author":{"type":"string"},"publicationDate":{"type":"string","format":"date-time"},"categories":{"type":"array","items":{"$ref":"#/components/schemas/RecipeCategoryOutput"}},"ingredients":{"type":"array","items":{"$ref":"#/components/schemas/RecipeIngredientOutput"}},"kitchenware":{"type":"array","items":{"$ref":"#/components/schemas/RecipeKitchenwareOutput"}},"steps":{"type":"array","items":{"$ref":"#/components/schemas/RecipeStepsOutput"}}}},"RecipeDailyOutput":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"thumbnailUrl":{"type":"string"},"time":{"type":"integer"},"author":{"type":"string"},"publicationDate":{"type":"string","format":"date-time"},"difficulty":{"type":"integer"},"portions":{"type":"integer"},"categories":{"type":"array","items":{"$ref":"#/components/schemas/RecipeCategoryOutput"}},"ingredients":{"type":"array","items":{"$ref":"#/components/schemas/RecipeIngredientOutput"}}}},"RecipeCategoryOutput":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"}}},"RecipeKitchenwareOutput":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"singularName":{"type":"string"},"quantity":{"type":"integer"}}},"RecipeStepsOutput":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"body":{"type":"string"},"number":{"type":"integer"}}},"RecipeIngredientOutput":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"singularName":{"type":"string"},"quantity":{"type":"integer"},"optional":{"type":"boolean"},"unit":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"shortName":{"type":"string"}}}}},"UserAccountOutput":{"type":"object","properties":{"id":{"type":"string"},"accountId":{"type":"string"},"email":{"type":"string"},"nickName":{"type":"string"},"name":{"type":"string"},"lastName":{"type":"string"},"language":{"type":"string"},"profilePicture":{"type":"string","nullable":true}}},"UserSummaryOutput":{"type":"object","properties":{"id":{"type":"string"},"nickName":{"type":"string"},"name":{"type":"string"},"lastName":{"type":"string"},"profilePicture":{"type":"string","nullable":true}}}}},"paths":{"/recipes":{"get":{"summary":"Returns a list of recipes.","tags":["Recipes"],"parameters":[{"$ref":"#/components/parameters/Accept-Language"},{"in":"query","name":"category","type":"string","required":false,"description":"ID of the category to get."}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipesListOutput"}}}}}},"post":{"summary":"Creates a recipe.","tags":["Recipes"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeCreateEntry"}}}},"responses":{"201":{"description":"Recipe created","content":{"text/plain":{"schema":null,"type":"string","example":"string"}}},"400":{"description":"Error in request fields","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Exception"}}}}}}},"/recipes/daily":{"get":{"summary":"Returns a daily highlighted recipe.","tags":["Recipes"],"parameters":[{"$ref":"#/components/parameters/Accept-Language"}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeDailyOutput"}}}}}}},"/recipes/{id}":{"get":{"summary":"Returns a recipe detail.","tags":["Recipes"],"parameters":[{"$ref":"#/components/parameters/Accept-Language"},{"in":"path","name":"id","type":"string","required":true,"description":"ID of the recipe to get."}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeOutput"}}}},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Exception"}}}}}}},"/recipes/{id}/ingredients":{"put":{"summary":"Adds ingredients to a recipe.","tags":["Recipes"],"parameters":[{"in":"path","name":"id","type":"string","required":true,"description":"ID of the recipe to get."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecipeIngredientEntry"}}}}},"responses":{"204":{"description":"Recipe ingredients added"},"400":{"description":"Error in request fields","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Exception"}}}}}}},"/recipes/{id}/kitchenware":{"put":{"summary":"Adds kitchenware to a recipe.","tags":["Recipes"],"parameters":[{"in":"path","name":"id","type":"string","required":true,"description":"ID of the recipe to get."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecipeKitchenwareEntry"}}}}},"responses":{"204":{"description":"Recipe kitchenware added"},"400":{"description":"Error in request fields","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Exception"}}}}}}},"/recipes/{id}/steps":{"put":{"summary":"Adds steps to a recipe.","tags":["Recipes"],"parameters":[{"in":"path","name":"id","type":"string","required":true,"description":"ID of the recipe to get."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecipeCreateStepEntry"}}}}},"responses":{"204":{"description":"Recipe steps added"},"400":{"description":"Error in request fields","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Exception"}}}}}}},"/users/account":{"get":{"summary":"Returns a user account.","tags":["User"],"security":[{"bearerAuth":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserAccountOutput"}}}}}}},"/users":{"get":{"summary":"Returns a user profile.","tags":["User"],"security":[{"bearerAuth":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserAccountOutput"}}}}}}},"/users/{id}/summary":{"get":{"summary":"Returns a user summary.","tags":["User"],"parameters":[{"in":"path","name":"id","type":"string","required":true,"description":"ID of the user to get."}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSummaryOutput"}}}}}}}},"tags":[{"name":"Recipes","description":"Use cases for recipes content"},{"name":"User","description":"Use cases for users content"}]}